<mvc:View
    controllerName="com.alfa.ui5appmodelo.controller.Products"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns="sap.ui.table"
    xmlns:u="sap.ui.unified"
    xmlns:c="sap.ui.core"
    xmlns:p="sap.m.plugins"
>
    <m:Page
        id="page"
        title="{i18n>title}"
    >
        <Table
            rows="{/Products}"
            selectionMode="None"
            rowMode="Auto"
        >
            <extension>
                <m:OverflowToolbar style="Clear">
                    <m:Title
                        id="title"
                        text="Products"
                    />
                </m:OverflowToolbar>
            </extension>
            <columns>
                <Column resizable="false">
                    <m:Label text="ID do Produto" />
                    <template>
                        <m:Label text="{ID}" />
                    </template>
                </Column>
                <Column resizable="false">
                    <m:Label text="Produto" />
                    <template>
                        <m:Label text="{Name}" />
                    </template>
                </Column>
                <Column resizable="false">
                    <m:Label text="Descrição" />
                    <template>
                        <m:Label text="{Description}" />
                    </template>
                </Column>
                <Column resizable="false">
                    <m:Label text="Avaliação" />
                    <template>
                        <m:Label text="{Rating}" />
                    </template>
                </Column>
                <Column resizable="false">
                    <m:Label text="Preço" />
                    <template>
                        <m:Label text="{Price}" />
                    </template>
                </Column>
                <Column
                    width="50px"
                    resizable="false"
                    visible="{
                                path:'user>/scopes',
                                formatter:'.formatter.isUserAllowedToEdit'
                            }"
                >
                    <template>
                        <m:HBox
                            alignItems="Center"
                            justifyContent="Center"
                        >
                            <c:Icon
                                size="1rem"
                                color="#5A7DA0"
                                src="sap-icon://edit"
                                press="handleEditProduct"
                            />
                        </m:HBox>
                    </template>
                </Column>
                <Column
                    resizable="false"
                    width="50px"
                    visible="{
                                path:'user>/scopes',
                                formatter:'.formatter.isUserAllowedToEdit'
                            }"
                >
                    <m:Label text="" />
                    <template>
                        <m:HBox
                            alignItems="Center"
                            justifyContent="Center"
                        >
                            <c:Icon
                                size="1rem"
                                color="#5A7DA0"
                                press="handleDeleteProduct"
                                src="sap-icon://delete"
                            />
                        </m:HBox>
                    </template>
                </Column>
            </columns>
        </Table>
        <m:footer>
            <m:OverflowToolbar style="Clear">
                <m:ToolbarSpacer />
                <m:Button
                    visible="{
                                path:'user>/scopes',
                                formatter:'.formatter.isUserAllowedToEdit'
                            }"
                    text="Adicionar produto"
                    type="Emphasized"
                    icon="sap-icon://add"
                    iconFirst="false"
                    press="handleCreateProduct"
                />
            </m:OverflowToolbar>
        </m:footer>
    </m:Page>
</mvc:View>